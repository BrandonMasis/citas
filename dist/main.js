(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(n){e(1,arguments);var o=Object.prototype.toString.call(n);return n instanceof Date||"object"===t(n)&&"[object Date]"===o?new Date(n.getTime()):"number"==typeof n||"[object Number]"===o?new Date(n):("string"!=typeof n&&"[object String]"!==o||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function o(t){return e(1,arguments),n(t).getMonth()}function a(t){return e(1,arguments),n(t).getFullYear()}function r(t){e(1,arguments);var o=n(t),a=o.getMonth();return o.setFullYear(o.getFullYear(),a+1,0),o.setHours(23,59,59,999),o}function c(t){return e(1,arguments),n(t).getDate()}const s=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dec"],l=new Date;let i=s[o(l)],u=a(r(l))-2e3,d=c(r(l));const m=document.querySelector("#datesDisplay"),p=document.querySelector("#reset-btn");let f=localStorage.getItem("appointments")?JSON.parse(localStorage.getItem("appointments")):{};if(!localStorage.getItem("appointments"))for(let e=1;e<=d;e++)f[e]={a:!1,b:!1,c:!1,d:!1,e:!1,f:!1,g:!1,h:!1,i:!1};function g(e){return s.findIndex((t=>t===e))}function y(){let e=document.querySelector("#headerTable");e||(e=document.createElement("table"),e.id="headerTable",m.parentElement.insertBefore(e,m)),e.innerHTML="";const t=document.createElement("tr");t.classList.add("visible");const n=document.createElement("th");n.textContent="Day",t.appendChild(n),["A","B","C"].forEach((e=>{const n=document.createElement("th");n.textContent=e,t.appendChild(n)})),e.appendChild(t),m.innerHTML="",function(e,t){const n=document.querySelector("#datesDisplay"),o=c(r(new Date(u+2e3,g(t)))),a=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"];for(let e=0;e<o;e++){let o=document.createElement("tr");o.setAttribute("data-date",e+1),o.classList.add("visible");const r=new Date(u+2e3,g(t),e+1).getDay(),c=a[r].charAt(0).toUpperCase()+a[r].slice(1);let s=document.createElement("th");s.textContent=`${c} ${e+1} ${t}`,o.appendChild(s),s.addEventListener("click",(()=>{const t=`${e+1}`,n=o.querySelectorAll("td"),a=!n[0].classList.contains("marked");n.forEach((e=>{const n=e.getAttribute("data-value");f[t]&&(f[t][n]=a)})),b()}));const l=["9 am","2 pm","5 pm","9 am","2 pm","5 pm","9 am","2 pm","5 pm"];for(let t=0;t<l.length;t++){let n=document.createElement("td");n.textContent=l[t],n.setAttribute("data-value",String.fromCharCode(97+t)),f[`${e+1}`]&&!0===f[`${e+1}`][`${n.getAttribute("data-value")}`]?n.classList.add("marked"):n.classList.remove("marked"),o.appendChild(n)}n.appendChild(o)}}(0,i),document.querySelectorAll("td").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.parentElement.getAttribute("data-date"),n=e.target.getAttribute("data-value");f[t][n]=!f[t][n],b()}))}))}function b(){localStorage.setItem("appointments",JSON.stringify(f)),y()}p.addEventListener("click",(function(){Object.keys(f).forEach((e=>{Object.keys(f[e]).forEach((t=>{f[e][t]=!1}))})),localStorage.removeItem("appointments"),b()})),y();const h=document.querySelector("#previous-month"),S=document.querySelector("#next-month");function E(){const e=s[o(l)],t=a(r(l))-2e3,n=c(r(l));i=e,u=t,d=n,y(),function(){const e={month:i,year:u};localStorage.setItem("calendarState",JSON.stringify(e))}()}h.addEventListener("click",(()=>{l.setMonth(l.getMonth()-1),E()})),S.addEventListener("click",(()=>{l.setMonth(l.getMonth()+1),E()})),function(){const e=localStorage.getItem("calendarState");if(e){const t=JSON.parse(e);i=t.month,u=t.year,y()}else{const e=s[o(l)],t=a(r(l))-2e3;i=e,u=t,y()}}()})();